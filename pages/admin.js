import { getServerSession } from 'next-auth/next'; import { authOptions } from '../lib/auth'; import Link from 'next/link'; export default function Admin({user}){return (<main style={{padding:24}}><h1>Admin</h1><p>Signed in as {user?.email} — role {user?.role||'member'}</p><p><Link href='/admin/team'>Team</Link> · <Link href='/admin/usage'>Usage</Link> · <Link href='/admin/compliance'>Compliance</Link></p></main>)} export async function getServerSideProps(ctx){const s=await getServerSession(ctx.req,ctx.res,authOptions); if(!s) return {redirect:{destination:'/login',permanent:false}}; return {props:{user:s.user}}}
